import{d as e,i as l,o as a,y as r,av as o,z as n,x as u,t as s,c,A as d,F as t,L as i,I as p,r as v,C as m,B as h,D as f,a as b,_ as y}from"./framework.6d1cc099.js";const k={key:0},_=e({__name:"YSearchFormItem",props:{column:{},searchParam:{}},setup(e){const h=e,f=l((()=>h.searchParam)),b=l((()=>{var e,l,a,r,o;const n=h.column.search;if(["datetimerange","daterange","monthrange"].includes(null==(e=n.props)?void 0:e.type))return{startPlaceholder:(null==(l=n.props)?void 0:l.startPlaceholder)??"开始时间",endPlaceholder:(null==(a=n.props)?void 0:a.endPlaceholder)??"结束时间",rangeSeparator:(null==(r=n.props)?void 0:r.rangeSeparator)??"至"};return{placeholder:(null==(o=n.props)?void 0:o.placeholder)??(["input"].includes(n.el)?"请输入":"请选择")+h.column.label}})),y=l((()=>{const e=h.column.search;return void 0!==e.defaultValue||null!==e.defaultValue||""!==e.defaultValue||e.props.clearable})),_=l((()=>{var e,l,a;const r=h.column;return{label:(null==(e=r.fieldName)?void 0:e.label)??"label",value:(null==(l=r.fieldName)?void 0:l.value)??"value",children:(null==(a=r.fieldName)?void 0:a.children)??"children"}})),P=l((()=>{var e,l;const a=_.value.label,r=_.value.value,o=_.value.children,n=null==(e=h.column.search)?void 0:e.el;let u=(null==(l=h.column.search)?void 0:l.props)??{};return"tree-select"===n&&(u={...u,props:{...u.props,label:a,children:o},nodeKey:r}),"cascader"===n&&(u={...u,props:{...u.props,label:a,value:r,children:o}}),u}));return(e,l)=>{var h,g,V,x,S,C;return a(),r(p((null==(h=e.column.search)?void 0:h.render)??`el-${null==(g=e.column.search)?void 0:g.el}`),m({searchParam:f.value,clearable:y.value,...b.value,...P.value},{modelValue:f.value[null==(V=e.column.search)?void 0:V.key],"onUpdate:modelValue":l[0]||(l[0]=l=>{var a;return f.value[null==(a=e.column.search)?void 0:a.key]=l}),modelModifiers:{trim:!0},options:(null==(S=null==(x=e.column.search)?void 0:x.props)?void 0:S.options)??[]}),o({default:n((()=>{var l,o,n;return["select"===(null==(l=e.column.search)?void 0:l.el)?(a(!0),c(t,{key:0},i((null==(n=null==(o=e.column.search)?void 0:o.props)?void 0:n.options)??[],((e,l)=>(a(),r(p("el-option"),{key:l,label:e[_.value.label],value:e[_.value.value]},null,8,["label","value"])))),128)):v(e.$slots,"default",{key:1})]})),_:2},["cascader"===(null==(C=e.column.search)?void 0:C.el)?{name:"default",fn:n((({node:e,data:l})=>[u("span",null,s(l[_.value.label]),1),e.isLeaf?d("",!0):(a(),c("span",k," ("+s(l[_.value.children].length)+") ",1))])),key:"0"}:void 0]),1040,["modelValue","options"])}}}),P={class:"flex-box"},g=y(e({__name:"index",props:{columns:{default:()=>[]},searchParam:{default:()=>({})},handleSearch:{},handleReset:{}},setup(e){const l=e;return console.log(l),(e,l)=>{const o=h("el-form-item"),s=h("el-button"),d=h("el-form");return a(),c("div",null,[f(d,{model:e.searchParam,ref:"formRef"},{default:n((()=>[u("div",P,[(a(!0),c(t,null,i(e.columns,((l,u)=>(a(),r(o,{key:u},{default:n((()=>[f(_,{column:l,"search-param":e.searchParam},null,8,["column","search-param"])])),_:2},1024)))),128)),f(s,{type:"primary",onClick:e.handleSearch},{default:n((()=>[b("查询")])),_:1},8,["onClick"])])])),_:1},8,["model"])])}}}),[["__scopeId","data-v-f22f7e05"]]);export{g as default};
